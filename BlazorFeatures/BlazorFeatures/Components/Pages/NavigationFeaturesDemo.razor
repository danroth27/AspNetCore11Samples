@page "/navigation-features"
@page "/navigation-features/{section}"
@rendermode InteractiveServer
@inject NavigationManager Navigation

<PageTitle>Navigation Features Demo</PageTitle>

<h1>Navigation Features</h1>

<p>New navigation features in .NET 11 Preview 1.</p>

<h2 id="relativetocurrenturi">RelativeToCurrentUri</h2>
<p>Navigate to URIs relative to the current page path instead of the app's base URI.</p>

<div class="mb-3">
    <p><strong>Current URI:</strong> @Navigation.Uri</p>
    <p><strong>Current section:</strong> @(section ?? "(none)")</p>
</div>

<div class="btn-group mb-3">
    <button class="btn btn-primary" @onclick="NavigateToDetails">
        Navigate to "details" (relative)
    </button>
    <button class="btn btn-secondary" @onclick="NavigateToSettings">
        Navigate to "settings" (relative)
    </button>
</div>

<h3>NavLink with RelativeToCurrentUri</h3>
<nav class="nav nav-pills mb-3">
    <NavLink href="overview" RelativeToCurrentUri="true" class="nav-link">Overview</NavLink>
    <NavLink href="details" RelativeToCurrentUri="true" class="nav-link">Details</NavLink>
    <NavLink href="settings" RelativeToCurrentUri="true" class="nav-link">Settings</NavLink>
</nav>

<hr />

<h2 id="geturiwithhash">GetUriWithHash() Extension</h2>
<p>Construct URIs with hash fragments efficiently.</p>

<div class="mb-3">
    <p><strong>URI with hash "section1":</strong> @Navigation.GetUriWithHash("section1")</p>
    <p><strong>URI with hash "section2":</strong> @Navigation.GetUriWithHash("section2")</p>
</div>

<div class="btn-group mb-3">
    <a href="@Navigation.GetUriWithHash("relativetocurrenturi")" class="btn btn-outline-primary">Jump to RelativeToCurrentUri</a>
    <a href="@Navigation.GetUriWithHash("geturiwithhash")" class="btn btn-outline-primary">Jump to GetUriWithHash</a>
</div>

<h2>Code Examples</h2>
<pre><code>// RelativeToCurrentUri - navigate relative to current page
NavigationManager.NavigateTo("details", new NavigationOptions 
{ 
    RelativeToCurrentUri = true 
});

// GetUriWithHash - construct URI with hash fragment
var uri = Navigation.GetUriWithHash("section-1");
// Results in: /current-page#section-1</code></pre>

@code {
    [Parameter]
    public string? section { get; set; }

    private void NavigateToDetails()
    {
        Navigation.NavigateTo("details", new NavigationOptions { RelativeToCurrentUri = true });
    }

    private void NavigateToSettings()
    {
        Navigation.NavigateTo("settings", new NavigationOptions { RelativeToCurrentUri = true });
    }
}
